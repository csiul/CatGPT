<!DOCTYPE html>
<html>
<head>
    <title>{{ title }}</title>
    <link rel="stylesheet" type="text/css" href="/static/css/styles.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=VT323">
    {% block head %}{% endblock %}
    <style>
        body {
            background-image: url('/static/images/{{ bg_image }}');
            background-repeat: no-repeat;
            background-size: cover;
        }
    </style>
</head>
<body>
    <nav>
        <div class="nav-item" onclick="switchSection('challenge-section')">
            <a href="#"><img src="/static/images/flag.svg" alt="Challenge"></a>
        </div>
        <div class="nav-item" onclick="switchSection('prompt-section')">
            <a href="#"><img src="/static/images/prompt.svg" alt="Prompt"></a>
        </div>
        <div id="music-player-toggle" class="nav-item">
            <img src="/static/images/music.svg" alt="Music">
        </div>
        <div id="music-iframe" class="nav-item" style="max-height:0px">
            <iframe width="100" height="200" scrolling="no" frameborder="no" allow="autoplay" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/{{ soundcloud_embed_id }}&color=%23000000&auto_play=false&hide_related=true&show_comments=false&show_user=false&show_reposts=false&show_teaser=false&show_artwork=true&show_playcount=false&liking=false&visual=true&buying=false&sharing=false&download=false"></iframe>
        </div>
    </nav>
    {% block body %}{% endblock %}
    {% include 'prompt.html' %}
    <script>
        function switchSection(sectionId) {
            const sections = document.querySelectorAll('.section');
            sections.forEach(section => {
                section.classList.remove('visible');
            });
            document.getElementById(sectionId).classList.add('visible');
        }
        switchSection('challenge-section');
    </script>
    <script>
        document.getElementById("music-player-toggle").onclick = function() {
            var iframe = document.getElementById("music-iframe");
            if (iframe.style.maxHeight !== "0px"){
                iframe.style.maxHeight = "0px";
            } else {
                iframe.style.maxHeight = "200px"; // Set this to the actual height of your iframe
            }
        };
    </script>
</body>
</html>